<!DOCTYPE html>
<html>

 

    <head>
        <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
        <img id="img", src="">
        <script>
            var memeImg;
            $.getJSON('http://meme-api.com/gimme/ProgrammerHumor', function(data) {
                memeImg = data.url;
            })
            function toDataURL(url, callback) {
                var xhr = new XMLHttpRequest();
                xhr.onload = function() {
                    var reader = new FileReader();
                    reader.onloadend = function() {
                    callback(reader.result);
                    }
                    reader.readAsDataURL(xhr.response);
                };
                xhr.open('GET', url);
                xhr.setRequestHeader("accept", "text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7");
                xhr.responseType = 'blob';
                xhr.send();
            }

            toDataURL('https://www.gravatar.com/avatar/d50c83cc0c6523b4d3f6085295c953e0', function(dataUrl) {
                console.log('RESULT:', dataUrl)
            })
                                            
        </script>
    </head>
        


</html>